!function(e,r){"function"==typeof define&&define.amd?define(["../globalize-runtime"],r):"object"==typeof exports?module.exports=r(require("../globalize-runtime")):r(e.Globalize)}(this,function(e){var r=e._createError,t=e._regexpEscape,n=e._runtimeKey,a=e._stringPad,i=e._validateParameterType,u=e._validateParameterPresence,o=e._validateParameterTypeString,l=function(e){return r("E_UNSUPPORTED","Unsupported {feature}.",{feature:e})},c=function(e,r){i(e,r,void 0===e||"number"==typeof e,"Number")},f=function(e,r,t){var n;return e=e.toPrecision(r+2),n=Math.ceil(Math.log(Math.abs(e))/Math.log(10)),t(e,{exponent:n-=r})},p=function(e,r){var t,n,i,u,o,c,p,s,m,N,g,b,h,v,d,_,P;return r[1],o=r[2],u=r[3],n=r[4],c=r[5],i=r[6],v=r[7],N=r[8],d=r[9],h=r[15],t=r[16],p=r[17],P=r[18],s=r[19],isNaN(e)?p:(e<0?(g=r[12],m=r[13],_=r[14]):(g=r[11],m=r[0],_=r[10]),isFinite(e)?(b=m,-1!==g.indexOf("%")?e*=100:-1!==g.indexOf("‰")&&(e*=1e3),e=(e=isNaN(c*i)?function(e,r,t,n,i,u){return n?(e=i(e,u||{exponent:-n}),t&&((e=String(e).split("."))[1]=a(e[1]||"",t,!0),e=e.join("."))):e=i(e),e=String(e),r&&((e=e.split("."))[0]=a(e[0],r),e=e.join(".")),e}(e,o,u,n,h,v):function(e,r,t,n){var i,u;if(r>t&&(t=r),e=(+(e=+(i=f(e,r,n))==+(u=f(e,t,n))?i:u)).toString(10),/e/.test(e))throw l({feature:"integers out of (1e21, 1e-7)"});return r-e.replace(/^0+|\./g,"").length>0&&((e=e.split("."))[1]=a(e[1]||"",r-e[0].replace(/^0+/,"").length,!0),e=e.join(".")),e}(e,c,i,h)).replace(/^-/,""),N&&(e=function(e,r,t){var n,a=r,i="",u=!!t;for(n=(e=String(e).split("."))[0].length;n>a;)i=e[0].slice(n-a,n)+(i.length?",":"")+i,n-=a,u&&(a=t,u=!1);return e[0]=e[0].slice(0,n)+(i.length?",":"")+i,e.join(".")}(e,N,d)),b+=e,(b+=_).replace(/('([^']|'')+'|'')|./g,function(e,r){return r?((r=r.replace(/''/,"'")).length>2&&(r=r.slice(1,-1)),r):(e=e.replace(/[.,\-+E%\u2030]/,function(e){return P[e]}),s&&(e=e.replace(/[0-9]/,function(e){return s[+e]})),e)})):m+t+_)},s=/^([^0-9]*)(([0-9,]*[0-9]+)(\.[0-9]+)?)(E[+-]?[0-9]+)?([^0-9]*)$/,m=function(e,r){var n,a,i,u,o,l,c,f,p,m,N;if(a=r[0],u=r[1],c=r[2],f=r[3],i=r[4],n=e.match(a))p=1/0,m=e.slice(0,n.length),N=e.slice(n.length+1);else{if(l=new RegExp(Object.keys(u).map(function(e){return t(e)}).join("|"),"g"),e=e.replace(l,function(e){return u[e]}),i&&(o=new RegExp(Object.keys(i).map(function(e){return t(e)}).join("|"),"g"),e=e.replace(o,function(e){return i[e]})),"."===e.charAt(0)&&(e="0"+e),!(e=e.match(s)))return NaN;if(m=e[1],N=e[6],p=e[2].replace(/,/g,""),e[5]&&(p+=e[5]),p=+p,isNaN(p))return NaN;-1!==e[0].indexOf("%")?(p/=100,N=N.replace("%","")):-1!==e[0].indexOf("‰")&&(p/=1e3,N=N.replace("‰",""))}return m===c&&N===f&&(p*=-1),p},N=function(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)};return e._createErrorUnsupportedFeature=l,e._numberFormat=p,e._numberFormatterFn=function(e){return function(r){return u(r,"value"),c(r,"value"),p(r,e)}},e._numberParse=m,e._numberParserFn=function(e){return function(r){return u(r,"value"),o(r,"value"),m(r,e)}},e._numberRound=function(e){return e="truncate"===(e=e||"round")?N:Math[e],function(r,t){var n,a;if(r=+r,isNaN(r))return NaN;if("object"==typeof t&&t.exponent){if(a=1,0==(n=+t.exponent))return e(r);if("number"!=typeof n||n%1!=0)return NaN}else{if(1===(a=+t||1))return e(r);if(isNaN(a))return NaN;n=+(a=a.toExponential().split("e"))[1],a=+a[0]}return(r=r.toString().split("e"))[0]=+r[0]/a,r[1]=r[1]?+r[1]-n:-n,(r=(r=e(+(r[0]+"e"+r[1]))).toString().split("e"))[0]=+r[0]*a,r[1]=r[1]?+r[1]+n:n,+(r[0]+"e"+r[1])}},e._validateParameterPresence=u,e._validateParameterTypeNumber=c,e._validateParameterTypeString=o,e.numberFormatter=e.prototype.numberFormatter=function(r){return r=r||{},e[n("numberFormatter",this._locale,[r])]},e.numberParser=e.prototype.numberParser=function(r){return r=r||{},e[n("numberParser",this._locale,[r])]},e.formatNumber=e.prototype.formatNumber=function(e,r){return u(e,"value"),c(e,"value"),this.numberFormatter(r)(e)},e.parseNumber=e.prototype.parseNumber=function(e,r){return u(e,"value"),o(e,"value"),this.numberParser(r)(e)},e});