!function(e,n){"function"==typeof define&&define.amd?define(["cldr","../globalize","cldr/event","cldr/supplemental"],n):"object"==typeof exports?module.exports=n(require("cldrjs"),require("globalize")):n(e.Cldr,e.Globalize)}(this,function(e,n){var t=n._createError,r=n._objectExtend,i=n._regexpEscape,a=n._runtimeBind,u=n._stringPad,o=n._validateCldr,m=n._validateDefaultLocale,l=n._validateParameterPresence,c=n._validateParameterRange,s=n._validateParameterType,f=n._validateParameterTypePlainObject,p=function(e){return t("E_UNSUPPORTED","Unsupported {feature}.",{feature:e})},g=function(e,n){s(e,n,void 0===e||"number"==typeof e,"Number")},d=function(e,n){s(e,n,void 0===e||"string"==typeof e,"a string")},b=function(e,n,t){var r;return e=e.toPrecision(n+2),r=Math.ceil(Math.log(Math.abs(e))/Math.log(10)),t(e,{exponent:r-=n})},h=function(e,n){var t,r,i,a,o,m,l,c,s,f,g,d,h,N,v,y,x;return n[1],o=n[2],a=n[3],r=n[4],m=n[5],i=n[6],N=n[7],f=n[8],v=n[9],h=n[15],t=n[16],l=n[17],x=n[18],c=n[19],isNaN(e)?l:(e<0?(g=n[12],s=n[13],y=n[14]):(g=n[11],s=n[0],y=n[10]),isFinite(e)?(d=s,-1!==g.indexOf("%")?e*=100:-1!==g.indexOf("‰")&&(e*=1e3),e=(e=isNaN(m*i)?function(e,n,t,r,i,a){return r?(e=i(e,a||{exponent:-r}),t&&((e=String(e).split("."))[1]=u(e[1]||"",t,!0),e=e.join("."))):e=i(e),e=String(e),n&&((e=e.split("."))[0]=u(e[0],n),e=e.join(".")),e}(e,o,a,r,h,N):function(e,n,t,r){var i,a;if(n>t&&(t=n),e=(+(e=+(i=b(e,n,r))==+(a=b(e,t,r))?i:a)).toString(10),/e/.test(e))throw p({feature:"integers out of (1e21, 1e-7)"});return n-e.replace(/^0+|\./g,"").length>0&&((e=e.split("."))[1]=u(e[1]||"",n-e[0].replace(/^0+/,"").length,!0),e=e.join(".")),e}(e,m,i,h)).replace(/^-/,""),f&&(e=function(e,n,t){var r,i=n,a="",u=!!t;for(r=(e=String(e).split("."))[0].length;r>i;)a=e[0].slice(r-i,r)+(a.length?",":"")+a,r-=i,u&&(i=t,u=!1);return e[0]=e[0].slice(0,r)+(a.length?",":"")+a,e.join(".")}(e,f,v)),d+=e,(d+=y).replace(/('([^']|'')+'|'')|./g,function(e,n){return n?((n=n.replace(/''/,"'")).length>2&&(n=n.slice(1,-1)),n):(e=e.replace(/[.,\-+E%\u2030]/,function(e){return x[e]}),c&&(e=e.replace(/[0-9]/,function(e){return c[+e]})),e)})):s+t+y)},N=function(e){var n=e.attributes["u-nu"];return n?("traditio"===n&&(n="traditional"),-1!==["native","traditional","finance"].indexOf(n)?e.main(["numbers/otherNumberingSystems",n]):n):e.main("numbers/defaultNumberingSystem")},v=function(e){var n,t=N(e);if("latn"!==t){if("numeric"!==(n=e.supplemental(["numberingSystems",t]))._type)throw p("`"+n._type+"` numbering system");return n._digits}},y=/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,x=function(e){var n,t,r,i,a,u,o,m,l,c,s,f,g,d,b,h,N,v;if(!(e=e.match(y)))throw new Error("Invalid pattern: "+e);if(f=e[1],s=e[3],i=e[4],N=e[8],b=e[9],v=e[10],N?N.replace(/(@+)(#*)/,function(e,n,t){c=n.length,o=c+t.length}):(r=e[7],a=e[6],r&&(r.replace(/[0-9]+/,function(e){m=e}),m?(d=+("0."+m),m=m.length):m=0,u=r.length-1),a.replace(/0+$/,function(e){l=e.length})),b)throw p({feature:"scientific notation (not implemented)"});if(s)throw p({feature:"padding (not implemented)"});return-1!==(n=i.lastIndexOf(","))&&(g=(t=i.split(".")[0]).length-n-1,-1!==(t=i.lastIndexOf(",",n-1))&&(h=n-1-t)),[f,s,l,m,u,c,o,d,g,h,v]},S=function(e,n){return n.main(["numbers/symbols-numberSystem-"+N(n),e])},_={".":"decimal",",":"group","%":"percentSign","+":"plusSign","-":"minusSign",E:"exponential","‰":"perMille"},E=function(e){var n,t={};for(n in _)t[n]=S(_[n],e);return t},P=function(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)},w=function(e,n,t){var r,i,a,u,o,m,l,c;function s(e,n){e in t&&(l[n]=t[e])}return t=t||{},o=(e=e.split(";"))[0],r=e[1]||"-"+o,i=(a=x(r))[0],u=a[10],c="truncate"===(c=(c=t.round)||"round")?P:Math[c],(m=function(e,n){var t,r;if(e=+e,isNaN(e))return NaN;if("object"==typeof n&&n.exponent){if(r=1,0==(t=+n.exponent))return c(e);if("number"!=typeof t||t%1!=0)return NaN}else{if(1===(r=+n||1))return c(e);if(isNaN(r))return NaN;t=+(r=r.toExponential().split("e"))[1],r=+r[0]}return(e=e.toString().split("e"))[0]=+e[0]/r,e[1]=e[1]?+e[1]-t:-t,(e=(e=c(+(e[0]+"e"+e[1]))).toString().split("e"))[0]=+e[0]*r,e[1]=e[1]?+e[1]+t:t,+(e[0]+"e"+e[1])}).generatorString=function(){return"numberRound("+(t.round?'"'+t.round+'"':"")+")"},l=x(o).concat([o,i+o+u,i,u,m,S("infinity",n),S("nan",n),E(n),v(n)]),s("minimumIntegerDigits",2),s("minimumFractionDigits",3),s("maximumFractionDigits",4),s("minimumSignificantDigits",5),s("maximumSignificantDigits",6),!1===t.useGrouping&&(l[8]=null),"minimumFractionDigits"in t&&!("maximumFractionDigits"in t)?l[4]=Math.max(l[3],l[4]):!("minimumFractionDigits"in t)&&"maximumFractionDigits"in t&&(l[3]=Math.min(l[3],l[4])),l},D=/^([^0-9]*)(([0-9,]*[0-9]+)(\.[0-9]+)?)(E[+-]?[0-9]+)?([^0-9]*)$/,F=function(e){return function(n){return l(n,"value"),d(n,"value"),function(e,n){var t,r,a,u,o,m,l,c,s,f,p;if(r=n[0],u=n[1],l=n[2],c=n[3],a=n[4],t=e.match(r))s=1/0,f=e.slice(0,t.length),p=e.slice(t.length+1);else{if(m=new RegExp(Object.keys(u).map(function(e){return i(e)}).join("|"),"g"),e=e.replace(m,function(e){return u[e]}),a&&(o=new RegExp(Object.keys(a).map(function(e){return i(e)}).join("|"),"g"),e=e.replace(o,function(e){return a[e]})),"."===e.charAt(0)&&(e="0"+e),!(e=e.match(D)))return NaN;if(f=e[1],p=e[6],s=e[2].replace(/,/g,""),e[5]&&(s+=e[5]),s=+s,isNaN(s))return NaN;-1!==e[0].indexOf("%")?(s/=100,p=p.replace("%","")):-1!==e[0].indexOf("‰")&&(s/=1e3,p=p.replace("‰",""))}return f===l&&p===c&&(s*=-1),s}(n,e)}},j=function(e){var n,t={};for(n in _)t[S(_[n],e)]=n;return t},O=function(e,n){if("decimal"!==e&&"percent"!==e)throw new Error("Invalid style");return n.main(["numbers",e+"Formats-numberSystem-"+N(n),"standard"])};return n.numberFormatter=n.prototype.numberFormatter=function(e){var n,t,r,i,u;return f(e,"options"),e=e||{},t=this.cldr,n=[e],m(t),t.on("get",o),r=e.raw?e.raw:O(e.style||"decimal",t),i=w(r,t,e),t.off("get",o),function(e){var n=e[2],t=e[3],r=e[4],i=e[5],a=e[6];if(isNaN(i*a)){if(!isNaN(i)||!isNaN(a))throw new Error("Neither or both the minimum and maximum significant digits must be present");c(n,"minimumIntegerDigits",1,21),c(t,"minimumFractionDigits",0,20),c(r,"maximumFractionDigits",t,20)}else c(i,"minimumSignificantDigits",1,21),c(a,"maximumSignificantDigits",i,21)}(i),u=function(e){return function(n){return l(n,"value"),g(n,"value"),h(n,e)}}(i),a(n,t,u,[i]),u},n.numberParser=n.prototype.numberParser=function(e){var n,t,i,u;return f(e,"options"),e=e||{},t=this.cldr,n=[e],m(t),t.on("get",o),i=function(e,n){var t,i,a,u,o=v(n);return a=(e=e.split(";"))[1]||"-"+e[0],u=x(a),o&&(t=o.split("").reduce(function(e,n,t){return e[n]=String(t),e},{}),i="0123456789".split("").reduce(function(e,n){return e[n]="invalid",e},{}),t=r(i,t)),[S("infinity",n),r({},_,j(n)),u[0],u[10].replace("%","").replace("‰",""),t]}(e.raw?e.raw:O(e.style||"decimal",t),t),t.off("get",o),u=F(i),a(n,t,u,[i]),u},n.formatNumber=n.prototype.formatNumber=function(e,n){return l(e,"value"),g(e,"value"),this.numberFormatter(n)(e)},n.parseNumber=n.prototype.parseNumber=function(e,n){return l(e,"value"),d(e,"value"),this.numberParser(n)(e)},n._createErrorUnsupportedFeature=p,n._numberNumberingSystem=N,n._numberPattern=O,n._numberSymbol=S,n._stringPad=u,n._validateParameterTypeNumber=g,n._validateParameterTypeString=d,n});