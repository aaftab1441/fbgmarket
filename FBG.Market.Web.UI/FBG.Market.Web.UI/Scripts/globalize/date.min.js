!function(e,a){"function"==typeof define&&define.amd?define(["cldr","../globalize","./number","cldr/event","cldr/supplemental"],a):"object"==typeof exports?module.exports=a(require("cldrjs"),require("globalize")):a(e.Cldr,e.Globalize)}(this,function(e,a){var r=a._createError,t=a._createErrorUnsupportedFeature,u=a._formatMessage,s=a._numberSymbol,n=a._regexpEscape,o=a._runtimeBind,c=a._stringPad,i=a._validateCldr,m=a._validateDefaultLocale,l=a._validateParameterPresence,d=a._validateParameterType,D=a._validateParameterTypePlainObject,g=a._validateParameterTypeString,f=function(e,a){d(e,a,void 0===e||e instanceof Date,"Date")},F=function(e,a){var t,s,n,o,c;function i(e,r,t){return u(a.main(["dates/calendars/gregorian/dateTimeFormats",e]),[t,r])}switch(!0){case"skeleton"in e:n=e.skeleton,(s=a.main(["dates/calendars/gregorian/dateTimeFormats/availableFormats",n]))||(o=n.split(/[^hHKkmsSAzZOvVXx]/).slice(-1)[0],t=n.split(/[^GyYuUrQqMLlwWdDFgEec]/)[0],s=i(/(MMMM|LLLL).*[Ec]/.test(t)?"full":/MMMM/g.test(t)?"long":/MMM/g.test(t)||/LLL/g.test(t)?"medium":"short",a.main(["dates/calendars/gregorian/dateTimeFormats/availableFormats",t]),a.main(["dates/calendars/gregorian/dateTimeFormats/availableFormats",o])));break;case"date"in e:case"time"in e:s=a.main(["dates/calendars/gregorian","date"in e?"dateFormats":"timeFormats",e.date||e.time]);break;case"datetime"in e:s=i(e.datetime,a.main(["dates/calendars/gregorian/dateFormats",e.datetime]),a.main(["dates/calendars/gregorian/timeFormats",e.datetime]));break;case"raw"in e:s=e.raw;break;default:throw r("E_INVALID_PAR_VALUE","Invalid `{name}` value ({value}).",{name:{name:"options",value:e},value:c})}return s},p=function(e,a){return(e.getDay()-a+7)%7},b=function(e,a){switch(e=new Date(e.getTime()),a){case"year":e.setMonth(0);case"month":e.setDate(1);case"day":e.setHours(0);case"hour":e.setMinutes(0);case"minute":e.setSeconds(0);case"second":e.setMilliseconds(0)}return e},h=function(e){return Math.floor((a=b(e,"year"),(e.getTime()-a.getTime())/864e5));var a},k=/([a-z])\1*|'([^']|'')+'|''|./gi,v=function(e,a,r,t){var u,s=e.getTimezoneOffset();return u=Math.abs(s),t=t||{1:function(e){return c(e,1)},2:function(e){return c(e,2)}},a.split(";")[s>0?1:0].replace(":",r).replace(/HH?/,function(e){return t[e.length](Math.floor(u/60))}).replace(/mm/,function(){return t[2](u%60)})},y=["sun","mon","tue","wed","thu","fri","sat"],E=function(e,a,r){var t=r.timeSeparator;return r.pattern.replace(k,function(u){var s,n=u.charAt(0),o=u.length;switch("j"===n&&(n=r.preferredTime),"Z"===n&&(o<4?(n="x",o=4):o<5?(n="O",o=4):(n="X",o=5)),n){case"G":s=r.eras[e.getFullYear()<0?0:1];break;case"y":s=e.getFullYear(),2===o&&(s=+(s=String(s)).substr(s.length-2));break;case"Y":(s=new Date(e.getTime())).setDate(s.getDate()+7-p(e,r.firstDay)-r.firstDay-r.minDays),s=s.getFullYear(),2===o&&(s=+(s=String(s)).substr(s.length-2));break;case"Q":case"q":s=Math.ceil((e.getMonth()+1)/3),o>2&&(s=r.quarters[n][o][s]);break;case"M":case"L":s=e.getMonth()+1,o>2&&(s=r.months[n][o][s]);break;case"w":s=p(b(e,"year"),r.firstDay),s=Math.ceil((h(e)+s)/7)-(7-s>=r.minDays?0:1);break;case"W":s=p(b(e,"month"),r.firstDay),s=Math.ceil((e.getDate()+s)/7)-(7-s>=r.minDays?0:1);break;case"d":s=e.getDate();break;case"D":s=h(e)+1;break;case"F":s=Math.floor(e.getDate()/7)+1;break;case"e":case"c":if(o<=2){s=p(e,r.firstDay)+1;break}case"E":s=y[e.getDay()],s=r.days[n][o][s];break;case"a":s=r.dayPeriods[e.getHours()<12?"am":"pm"];break;case"h":s=e.getHours()%12||12;break;case"H":s=e.getHours();break;case"K":s=e.getHours()%12;break;case"k":s=e.getHours()||24;break;case"m":s=e.getMinutes();break;case"s":s=e.getSeconds();break;case"S":s=Math.round(e.getMilliseconds()*Math.pow(10,o-3));break;case"A":s=Math.round(function(e){return e-b(e,"day")}(e)*Math.pow(10,o-3));break;case"z":case"O":0===e.getTimezoneOffset()?s=r.gmtZeroFormat:(s=v(e,o<4?"+H;-H":r.tzLongHourFormat,t,a),s=r.gmtFormat.replace(/\{0\}/,s));break;case"X":if(0===e.getTimezoneOffset()){s="Z";break}case"x":s=v(e,s=1===o?"+HH;-HH":o%2?"+HH:mm;-HH:mm":"+HHmm;-HHmm",":");break;case":":s=t;break;case"'":u=u.replace(/''/,"'"),o>2&&(u=u.slice(1,-1)),s=u;break;default:s=u}return"number"==typeof s&&(s=a[o](s)),s})},w=function(e){return y.indexOf(e.supplemental.weekData.firstDay())},A=function(e,a){var r=e.getDate();e.setDate(1),e.setMonth(a),function(e,a){var r=new Date(e.getFullYear(),e.getMonth()+1,0).getDate();e.setDate(a<1?1:a<r?a:r)}(e,r)},M=function(e,a,r){return e<a||e>r},H=function(e,a,r){var u,s,n,o,c,i,m,l,d,D=new Date,g=[];if(!a.length)return null;if(!a.every(function(e){var a,d,f;if("literal"===e.type)return!0;switch(a=e.type.charAt(0),f=e.type.length,"j"===a&&(a=r.preferredTimeData),a){case"G":g.push(0),c=+e.value;break;case"y":if(d=e.value,2===f){if(M(d,0,99))return!1;(d+=100*Math.floor(D.getFullYear()/100))>D.getFullYear()+20&&(d-=100)}D.setFullYear(d),g.push(0);break;case"Y":throw t({feature:"year pattern `"+a+"`"});case"Q":case"q":break;case"M":case"L":if(d=f<=2?e.value:+e.value,M(d,1,12))return!1;o=d,g.push(1);break;case"w":case"W":break;case"d":s=e.value,g.push(2);break;case"D":n=e.value,g.push(2);break;case"F":break;case"e":case"c":case"E":break;case"a":u=e.value;break;case"h":if(d=e.value,M(d,1,12))return!1;i=m=!0,D.setHours(12===d?0:d),g.push(3);break;case"K":if(d=e.value,M(d,0,11))return!1;i=m=!0,D.setHours(d),g.push(3);break;case"k":if(d=e.value,M(d,1,24))return!1;i=!0,D.setHours(24===d?0:d),g.push(3);break;case"H":if(d=e.value,M(d,0,23))return!1;i=!0,D.setHours(d),g.push(3);break;case"m":if(d=e.value,M(d,0,59))return!1;D.setMinutes(d),g.push(4);break;case"s":if(d=e.value,M(d,0,59))return!1;D.setSeconds(d),g.push(5);break;case"A":D.setHours(0),D.setMinutes(0),D.setSeconds(0);case"S":d=Math.round(e.value*Math.pow(10,3-f)),D.setMilliseconds(d),g.push(6);break;case"Z":case"z":case"O":case"X":case"x":l=e.value-D.getTimezoneOffset()}return!0}))return null;if(i&&!(!u^m))return null;if(0===c&&D.setFullYear(-1*D.getFullYear()+1),void 0!==o&&A(D,o-1),void 0!==s){if(M(s,1,function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}(D)))return null;D.setDate(s)}else if(void 0!==n){if(M(n,1,(d=D.getFullYear(),1===new Date(d,1,29).getMonth()?366:365)))return null;D.setMonth(0),D.setDate(n)}return m&&"pm"===u&&D.setHours(D.getHours()+12),l&&D.setMinutes(D.getMinutes()+l),g=Math.max.apply(null,g),D=b(D,["year","month","day","hour","minute","second","milliseconds"][g])},C=/[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDD16-\uDD1B\uDE40-\uDE47\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDE60-\uDE7E]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9]|\uD806[\uDCE0-\uDCF2]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD834[\uDF60-\uDF71]|\uD835[\uDFCE-\uDFFF]|\uD83A[\uDCC7-\uDCCF]|\uD83C[\uDD00-\uDD0C]/,x=function(e,a,r){return function(t){var u;return l(t,"value"),g(t,"value"),u=function(e,a,r){var t,u=r.timeSeparator,s=[],o=["abbreviated","wide","narrow"];return t=r.pattern.match(k).every(function(t){var c,i,m,l,d={};function D(a,r){var t=e.match(a);return r=r||function(e){return+e},!!t&&(t.length<8?d.value=60*(t[1]?-r(t[1]):r(t[4])):d.value=60*(t[1]?-r(t[1]):r(t[7]))+(t[1]?-r(t[4]):r(t[10])),!0)}function g(e,a,r){var t;return a||(a="{0}"),t=e.replace("+","\\+").replace(/HH|mm/g,"(("+C.source+")("+C.source+"))").replace(/H|m/g,"(("+C.source+")("+C.source+")?)"),r&&(t=t.replace(/:/g,r)),t=t.split(";").map(function(e){return a.replace("{0}",e)}).join("|"),new RegExp(t)}function f(){if(1===i)return m=!0,l=C}function F(){if(1===i)return m=!0,l=new RegExp("("+C.source+")("+C.source+")?")}function p(){if(2===i)return m=!0,l=new RegExp("("+C.source+")("+C.source+")")}function b(a){var t,u=r[a.join("/")];for(t in u)if(new RegExp("^"+u[t]).test(e))return d.value=t,l=new RegExp(u[t]);return null}switch(d.type=t,c=t.charAt(0),i=t.length,"Z"===c&&(i<4?(c="x",i=4):i<5?(c="O",i=4):(c="X",i=5)),c){case"G":b(["gregorian/eras",i<=3?"eraAbbr":4===i?"eraNames":"eraNarrow"]);break;case"y":case"Y":m=!0,l=1===i?new RegExp("("+C.source+")+"):2===i?new RegExp("("+C.source+")("+C.source+")"):new RegExp("("+C.source+"){"+i+",}");break;case"Q":case"q":f()||p()||b(["gregorian/quarters","Q"===c?"format":"stand-alone",o[i-3]]);break;case"M":case"L":F()||p()||b(["gregorian/months","M"===c?"format":"stand-alone",o[i-3]]);break;case"D":i<=3&&(m=!0,l=new RegExp("("+C.source+"){"+i+",3}"));break;case"W":case"F":f();break;case"e":case"c":if(i<=2){f()||p();break}case"E":6===i?b(["gregorian/days",["c"===c?"stand-alone":"format"],"short"])||b(["gregorian/days",["c"===c?"stand-alone":"format"],"abbreviated"]):b(["gregorian/days",["c"===c?"stand-alone":"format"],o[i<3?0:i-3]]);break;case"a":b(["gregorian/dayPeriods/format/wide"]);break;case"w":case"d":case"h":case"H":case"K":case"k":case"j":case"m":case"s":F()||p();break;case"S":m=!0,l=new RegExp("("+C.source+"){"+i+"}");break;case"A":m=!0,l=new RegExp("("+C.source+"){"+(i+5)+"}");break;case"z":case"O":if(e===r["timeZoneNames/gmtZeroFormat"])d.value=0,l=new RegExp(r["timeZoneNames/gmtZeroFormat"]);else if(!D(l=g(i<4?"+H;-H":r["timeZoneNames/hourFormat"],r["timeZoneNames/gmtFormat"],u),a))return null;break;case"X":if("Z"===e){d.value=0,l=/Z/;break}case"x":if(!D(l=g(1===i?"+HH;-HH":i%2?"+HH:mm;-HH:mm":"+HHmm;-HHmm")))return null;break;case"'":d.type="literal",t=t.replace(/''/,"'"),i>2&&(t=t.slice(1,-1)),l=new RegExp(n(t));break;default:d.type="literal",l=/./}return!!l&&(e=e.replace(new RegExp("^"+l.source),function(e){return d.lexeme=e,m&&(d.value=a(e)),""}),!!d.lexeme&&(s.push(d),!0))}),""!==e&&(t=!1),t?s:[]}(t,e,r),H(0,u,a)||null}};function B(e,a){i(e,a,{skip:[/dates\/calendars\/gregorian\/dateTimeFormats\/availableFormats/,/dates\/calendars\/gregorian\/days\/.*\/short/,/supplemental\/timeData\/(?!001)/,/supplemental\/weekData\/(?!001)/]})}return a.dateFormatter=a.prototype.dateFormatter=function(e){var a,r,u,n,i,d;for(n in D(e,"options"),r=this.cldr,a=[e=e||{skeleton:"yMd"}],m(r),r.on("get",B),i=function(e,a){var r={numberFormatters:{},pattern:e,timeSeparator:s("timeSeparator",a)},u=["abbreviated","wide","narrow"];function n(e){r.numberFormatters[e]=c("",e)}return e.replace(k,function(e){var s,o=e.charAt(0),c=e.length;switch("j"===o&&(r.preferredTime=o=a.supplemental.timeData.preferred()),"Z"===o&&4===c&&(o="O",c=4),o){case"G":r.eras=a.main(["dates/calendars/gregorian/eras",c<=3?"eraAbbr":4===c?"eraNames":"eraNarrow"]);break;case"y":s=!0;break;case"Y":r.firstDay=w(a),r.minDays=a.supplemental.weekData.minDays(),s=!0;break;case"u":case"U":throw t({feature:"year pattern `"+o+"`"});case"Q":case"q":c>2?(r.quarters||(r.quarters={}),r.quarters[o]||(r.quarters[o]={}),r.quarters[o][c]=a.main(["dates/calendars/gregorian/quarters","Q"===o?"format":"stand-alone",u[c-3]])):s=!0;break;case"M":case"L":c>2?(r.months||(r.months={}),r.months[o]||(r.months[o]={}),r.months[o][c]=a.main(["dates/calendars/gregorian/months","M"===o?"format":"stand-alone",u[c-3]])):s=!0;break;case"w":case"W":r.firstDay=w(a),r.minDays=a.supplemental.weekData.minDays(),s=!0;break;case"d":case"D":case"F":s=!0;break;case"g":throw t({feature:"Julian day pattern `g`"});case"e":case"c":if(c<=2){r.firstDay=w(a),s=!0;break}case"E":r.days||(r.days={}),r.days[o]||(r.days[o]={}),r.days[o][c]=6===c?a.main(["dates/calendars/gregorian/days","c"===o?"stand-alone":"format","short"])||a.main(["dates/calendars/gregorian/days","c"===o?"stand-alone":"format","abbreviated"]):a.main(["dates/calendars/gregorian/days","c"===o?"stand-alone":"format",u[c<3?0:c-3]]);break;case"a":r.dayPeriods=a.main("dates/calendars/gregorian/dayPeriods/format/wide");break;case"h":case"H":case"K":case"k":case"m":case"s":case"S":case"A":s=!0;break;case"z":case"O":r.gmtFormat=a.main("dates/timeZoneNames/gmtFormat"),r.gmtZeroFormat=a.main("dates/timeZoneNames/gmtZeroFormat"),r.tzLongHourFormat=a.main("dates/timeZoneNames/hourFormat");case"Z":case"X":case"x":n(1),n(2);break;case"v":case"V":throw t({feature:"timezone pattern `"+o+"`"})}s&&n(c)}),r}(F(e,r),r),r.off("get",B),u=i.numberFormatters,delete i.numberFormatters,u)u[n]=this.numberFormatter({raw:u[n]});return d=function(e,a){return function(r){return l(r,"value"),f(r,"value"),E(r,e,a)}}(u,i),o(a,r,d,[u,i]),d},a.dateParser=a.prototype.dateParser=function(e){var a,r,u,n,c,i;return D(e,"options"),r=this.cldr,a=[e=e||{skeleton:"yMd"}],m(r),r.on("get",B),c=function(e,a){var r={pattern:e,timeSeparator:s("timeSeparator",a)},u=["abbreviated","wide","narrow"];function n(e,a){r[e.replace(/^.*\/dates\//,"").replace(/calendars\//,"")]=a}return a.on("get",n),e.match(k).forEach(function(e){var r,s;switch(r=e.charAt(0),s=e.length,"Z"===r&&s<5&&(r="O",s=4),r){case"G":a.main(["dates/calendars/gregorian/eras",s<=3?"eraAbbr":4===s?"eraNames":"eraNarrow"]);break;case"u":case"U":throw t({feature:"year pattern `"+r+"`"});case"Q":case"q":s>2&&a.main(["dates/calendars/gregorian/quarters","Q"===r?"format":"stand-alone",u[s-3]]);break;case"M":case"L":s>2&&a.main(["dates/calendars/gregorian/months","M"===r?"format":"stand-alone",u[s-3]]);break;case"g":throw t({feature:"Julian day pattern `g`"});case"e":case"c":if(s<=2)break;case"E":6===s?a.main(["dates/calendars/gregorian/days",["c"===r?"stand-alone":"format"],"short"])||a.main(["dates/calendars/gregorian/days",["c"===r?"stand-alone":"format"],"abbreviated"]):a.main(["dates/calendars/gregorian/days",["c"===r?"stand-alone":"format"],u[s<3?0:s-3]]);break;case"a":a.main(["dates/calendars/gregorian/dayPeriods/format/wide"]);break;case"z":case"O":a.main("dates/timeZoneNames/gmtFormat"),a.main("dates/timeZoneNames/gmtZeroFormat"),a.main("dates/timeZoneNames/hourFormat");break;case"v":case"V":throw t({feature:"timezone pattern `"+r+"`"})}}),a.off("get",n),r}(F(e,r),r),n=function(e){return{preferredTimeData:e.supplemental.timeData.preferred()}}(r),r.off("get",B),u=this.numberParser({raw:"0"}),i=x(u,n,c),o(a,r,i,[u,n,c]),i},a.formatDate=a.prototype.formatDate=function(e,a){return l(e,"value"),f(e,"value"),this.dateFormatter(a)(e)},a.parseDate=a.prototype.parseDate=function(e,a){return l(e,"value"),g(e,"value"),this.dateParser(a)(e)},a});