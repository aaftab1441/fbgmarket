!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t():e.Cldr=t()}(this,function(){var e,t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=function(e,n){if(t(e)&&(e=e.join("/")),"string"!=typeof e)throw new Error('invalid path "'+e+'"');return(e=(e=e.replace(/^\//,"").replace(/^cldr\//,"")).replace(/{[a-zA-Z]+}/g,function(e){return e=e.replace(/^{([^}]*)}$/,"$1"),n[e]})).split("/")},r=function(e,t){var n,r;if(e.some)return e.some(t);for(n=0,r=e.length;n<r;n++)if(t(e[n],n,e))return!0;return!1},a=function(e,t,n,a){var i,o=n[0],u=n[1],l=e.localeSep,c=n[2],f=n.slice(3,4);return a=a||{},"und"!==o&&"Zzzz"!==u&&"ZZ"!==c?[o,u,c].concat(f):void 0!==t.get("supplemental/likelySubtags")?r([[o,u,c],[o,c],[o,u],[o],["und",u]],function(e){return i=!/\b(Zzzz|ZZ)\b/.test(e.join(l))&&t.get(["supplemental/likelySubtags",e.join(l)])})?(i=i.split(l),["und"!==o?o:i[0],"Zzzz"!==u?u:i[1],"ZZ"!==c?c:i[2]].concat(f)):a.force?t.get("supplemental/likelySubtags/und").split(l):void 0:void 0},i=function(e,t,n){var i,o=n[0],u=n[1],l=n[2],c=n[3];return r([[[o,"Zzzz","ZZ"],[o]],[[o,"Zzzz",l],[o,l]],[[o,u,"ZZ"],[o,u]]],function(r){var o=a(e,t,r[0]);return i=r[1],o&&o[0]===n[0]&&o[1]===n[1]&&o[2]===n[2]})?(c&&i.push(c),i):n},o=function(e){var t,n=[];return(t=(e=e.replace(/_/,"-")).split("-u-"))[1]&&(t[1]=t[1].split("-t-"),e=t[0]+(t[1][1]?"-t-"+t[1][1]:""),n[4]=t[1][0]),null===(t=e.split("-t-")[0].match(/^(([a-z]{2,3})(-([A-Z][a-z]{3}))?(-([A-Z]{2}|[0-9]{3}))?)((-([a-zA-Z0-9]{5,8}|[0-9][a-zA-Z0-9]{3}))*)$|^(root)$/))?["und","Zzzz","ZZ"]:(n[0]=t[10]||t[2]||"und",n[1]=t[4]||"Zzzz",n[2]=t[6]||"ZZ",t[7]&&t[7].length&&(n[3]=t[7].slice(1)),n)},u=function(e,t){var n,r;if(e.forEach)return e.forEach(t);for(n=0,r=e.length;n<r;n++)t(e[n],n,e)},l=function(e,t,n){var r=e._availableBundleMap,l=e._availableBundleMapQueue;return l.length&&(u(l,function(n){var u,c,f,p;p=o(n),c=a(e,t,p),f=(f=i(e,t,c)).join(e.localeSep),(u=l[f])&&u.length<n.length||(r[f]=n)}),e._availableBundleMapQueue=[]),r[n]||null},c=function(e,t){var n,r;return r=e+(t&&JSON?": "+JSON.stringify(t):""),(n=new Error(r)).code=e,u(function(e){var t,n=[];if(Object.keys)return Object.keys(e);for(t in e)n.push(t);return n}(t),function(e){n[e]=t[e]}),n},f=function(e,t,n){if(!t)throw c(e,n)},p=function(e,t){f("E_MISSING_PARAMETER",void 0!==e,{name:t})},s=function(e,t,n,r){f("E_INVALID_PAR_TYPE",n,{expected:r,name:t,value:e})},d=function(e,n){s(e,n,"string"==typeof e||t(e),"String or Array")},v=function(e,t){var n;s(e,t,void 0===e||null!==(n=e)&&""+n=="[object Object]","Plain Object")},h=function(e,t){var n,r=e,a=t.length;for(n=0;n<a-1;n++)if(!(r=r[t[n]]))return;return r[t[n]]},g=function(e,t){var n,r=e._availableBundleMapQueue,a=h(t,["main"]);if(a)for(n in a)a.hasOwnProperty(n)&&"root"!==n&&-1===r.indexOf(n)&&r.push(n)},z=function(e){return t(e)?e:[e]},_=e=function(){var n={},r=[].slice.call(arguments,0);return u(r,function(r){var a;for(a in r)a in n&&"object"==typeof n[a]&&!t(n[a])?n[a]=e(n[a],r[a]):n[a]=r[a]}),n},b=function(e,t,n){var r,a,i;for(p(n[0],"json"),r=0;r<n.length;r++)for(i=z(n[r]),a=0;a<i.length;a++)v(i[a],"json"),t=_(t,i[a]),g(e,i[a]);return t},y=function(e,t,r){var a=n(t,r);return h(e._resolved,a)},Z=function(e){this.init(e)};return Z._alwaysArray=z,Z._coreLoad=b,Z._createError=c,Z._itemGetResolved=y,Z._jsonMerge=_,Z._pathNormalize=n,Z._resourceGet=h,Z._validatePresence=p,Z._validateType=s,Z._validateTypePath=d,Z._validateTypePlainObject=v,Z._availableBundleMap={},Z._availableBundleMapQueue=[],Z._resolved={},Z.localeSep="-",Z.load=function(){Z._resolved=b(Z,Z._resolved,arguments)},Z.prototype.init=function(e){var t,n,r,u,c,f,d,v,h,g,z=Z.localeSep;p(e,"locale"),s(g=e,"locale","string"==typeof g,"a string"),v=(f=o(e))[4],h=f[3],n=(r=a(Z,this,f,{force:!0})||f)[0],c=r[1],d=r[2],u=i(Z,this,r).join(z),this.attributes=t={bundle:l(Z,this,u),minlanguageId:u,maxLanguageId:r.join(z),language:n,script:c,territory:d,region:d,variant:h},v&&("-"+v).replace(/-[a-z]{3,8}|(-[a-z]{2})-([a-z]{3,8})/g,function(e,n,r){n?t["u"+n]=r:t["u"+e]=!0}),this.locale=e},Z.prototype.get=function(e){return p(e,"path"),d(e,"path"),y(Z,e,this.attributes)},Z.prototype.main=function(e){return p(e,"path"),d(e,"path"),f("E_MISSING_BUNDLE",null!==this.attributes.bundle,{locale:this.locale}),e=z(e),this.get(["main/{bundle}"].concat(e))},Z});